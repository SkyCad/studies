<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arène de Combat</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="arena-container">
    <div class="arena">
      <h1>Arène de Combat</h1>
      <button class="btn" style="margin: 1rem auto 1rem auto; display: none; display: block;"><a href="index.html" style="text-decoration: none; color: #fff;">Retour à la création de personnage</a></button>
      <!-- Les personnages et le combat seront affichés ici plus tard -->
        <div class="arena-row" style="margin-top: 8rem;">
          <div class="arena-slot" id="arena-left">
            <span>Zone Gauche (perso 1)</span>
          </div>
          <div class="arena-slot" id="arena-right">
            <span>Zone Droite (perso 2)</span>
          </div>
        </div>
        <div class="arena-choices" id="arena-choices">
          <!-- Les choix d'action apparaîtront ici -->
        </div>
    </div>
  </div>
  <script type="module">
    import { Character } from './character.js';
    // Charge les personnages depuis data.json et affiche leur nom et PV
    async function loadAndDisplayCharacters() {
      try {
        const response = await fetch('data.json');
        if (response.ok) {
          const data = await response.json();
          if (Array.isArray(data) && data.length >= 2) {
            // On prend les deux premiers personnages
            const char1 = new Character(data[0]);
            const char2 = new Character(data[1]);
            document.getElementById('arena-left').innerHTML = `<div><strong>${char1.name}</strong><br>PV : ${char1.endurance}</div>`;
            document.getElementById('arena-right').innerHTML = `<div><strong>${char2.name}</strong><br>PV : ${char2.endurance}</div>`;
          }
        }
      } catch (e) {
        document.getElementById('arena-left').textContent = 'Erreur chargement';
        document.getElementById('arena-right').textContent = 'Erreur chargement';
      }
    }
    loadAndDisplayCharacters();
  </script>
</body>
</html>
